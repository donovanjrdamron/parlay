{%- style -%}
  #Banner-{{ section.id }}::after {
    opacity: {{ section.settings.image_overlay_opacity | divided_by: 100.0 }};
  }

  {%- if section.settings.image_height == 'adapt-image' and section.settings.image != blank -%}
    @media screen and (max-width: 749px) {
      #Banner-{{ section.id }}:not(.banner--mobile-bottom) .banner__content::before {
        padding-bottom: {{ 1 | divided_by: section.settings.image.aspect_ratio | times: 100 }}%;
        content: '';
        display: block;
      }
    }

    #Banner-{{ section.id }}::before,
    #Banner-{{ section.id }} .banner__media::before {
      padding-bottom: {{ 1 | divided_by: section.settings.image.aspect_ratio | times: 100 }}%;
      content: '';
      display: block;
    }
  {%- endif -%}

  .section-{{ section.id }} .esb-header-wrapper {
    text-align: {{ section.settings.heading_text_align }};
    margin-bottom: {{ section.settings.header_spacing }}px;
  }

  .section-{{ section.id }} .esb-heading {
    font-family: {{ settings.type_header_font.family }}, {{ settings.type_header_font.fallback_families }};
    {% if section.settings.use_theme_colors %}
      color: {{ settings.heading_color }};
    {% else %}
      color: {{ section.settings.heading_color }};
    {% endif %}
    font-size: {{ section.settings.heading_font_size_mobile }}px;
    font-weight: {{ section.settings.heading_font_weight }};
    margin: 0 0 {{ section.settings.heading_margin_bottom }}px 0;
    line-height: 1.2;
  }

  @media screen and (min-width: 750px) {
    .section-{{ section.id }} .esb-heading {
      font-size: {{ section.settings.heading_font_size_desktop }}px;
    }
  }

  .section-{{ section.id }} .esb-highlighted-text {
    {% if section.settings.use_theme_colors %}
      {% if settings.highlighted_text_gradient_enabled %}
        background: {{ settings.highlighted_text_gradient }};
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        display: inline-block;
      {% else %}
        color: {{ settings.highlighted_text_solid_color }};
      {% endif %}
    {% else %}
      {% if section.settings.highlighted_gradient_enabled %}
        background: {{ section.settings.highlighted_gradient }};
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        display: inline-block;
      {% else %}
        color: {{ section.settings.highlighted_color }};
      {% endif %}
    {% endif %}
    font-size: {{ section.settings.highlighted_font_size_mobile }}px;
    font-weight: {{ section.settings.highlighted_font_weight }};
  }

  @media screen and (min-width: 750px) {
    .section-{{ section.id }} .esb-highlighted-text {
      font-size: {{ section.settings.highlighted_font_size_desktop }}px;
    }
  }

  .section-{{ section.id }} .esb-highlighted-separate {
    display: inline-block;
    margin-bottom: {{ section.settings.highlighted_spacing }}px;
  }
{%- endstyle -%}

<div
  id="Banner-{{ section.id }}"
  class="email-signup-banner animate-section animate--hidden banner banner--content-align-{{ section.settings.desktop_content_alignment }} banner--content-align-mobile-{{ section.settings.mobile_content_alignment }} banner--{{ section.settings.image_height }}{% if section.settings.image_height == 'adapt-image' and section.settings.image != blank %} banner--adapt{% endif %}{% if section.settings.show_text_below %} banner--mobile-bottom{%- endif -%}{% if section.settings.show_text_box == false %} banner--desktop-transparent{% endif %} content-for-grouping {{ section.settings.visibility }}"
>
  {% if section.settings.display_id %}
    <copy-button class='section-id-btn button' data-content="#shopify-section-{{ section.id }}" data-success="false">
      <span class="copy-text">Click to copy section ID</span>
      <span class="copy-success">ID copied successfully!</span>
    </copy-button>
  {% endif %}
  {%- if section.settings.show_background_image -%}
    <div class="banner__media{% if section.settings.image != blank %} media{% endif %}">
      {%- if section.settings.image != blank -%}
        <img
          srcset="
            {%- if section.settings.image.width >= 375 -%}{{ section.settings.image | image_url: width: 375 }} 375w,{%- endif -%}
            {%- if section.settings.image.width >= 750 -%}{{ section.settings.image | image_url: width: 750 }} 750w,{%- endif -%}
            {%- if section.settings.image.width >= 1100 -%}{{ section.settings.image | image_url: width: 1100 }} 1100w,{%- endif -%}
            {%- if section.settings.image.width >= 1500 -%}{{ section.settings.image | image_url: width: 1500 }} 1500w,{%- endif -%}
            {%- if section.settings.image.width >= 1780 -%}{{ section.settings.image | image_url: width: 1780 }} 1780w,{%- endif -%}
            {%- if section.settings.image.width >= 2000 -%}{{ section.settings.image | image_url: width: 2000 }} 2000w,{%- endif -%}
            {%- if section.settings.image.width >= 3000 -%}{{ section.settings.image | image_url: width: 3000 }} 3000w,{%- endif -%}
            {%- if section.settings.image.width >= 3840 -%}{{ section.settings.image | image_url: width: 3840 }} 3840w,{%- endif -%}
            {{ section.settings.image | image_url }} {{ section.settings.image.width }}w
          "
          sizes="100vw"
          src="{{ section.settings.image | image_url: width: 1500 }}"
          loading="lazy"
          alt="{{ section.settings.image.alt | escape }}"
          width="{{ section.settings.image.width }}"
          height="{{ section.settings.image.width | divided_by: section.settings.image.aspect_ratio }}"
        >
      {%- else -%}
        {%- render 'email-signup-banner-background' -%}
        {%- render 'email-signup-banner-background-mobile' -%}
      {%- endif -%}
    </div>
  {%- endif -%}
  <div class="banner__content banner__content--{{ section.settings.desktop_content_position }} page-width">
    <div class="email-signup-banner__box banner__box newsletter newsletter__wrapper isolate{% if section.settings.show_background_image == false %} email-signup-banner__box--no-image{% endif %} content-container color-{{ section.settings.color_scheme }} gradient content-container--full-width-mobile">
      {%- for block in section.blocks -%}
        {%- case block.type -%}
          {%- when 'heading' -%}
            <div class="email-signup-banner__heading animate-item animate-item--child" {{ block.shopify_attributes }} style="--index:{{ forloop.index }};">
              <div class="esb-header-wrapper">
                {% case section.settings.highlight_position %}
                  {% when 'above' %}
                    {% if section.settings.highlighted_text != blank %}
                      <span class="esb-highlighted-text esb-highlighted-separate">{{ section.settings.highlighted_text }}</span>
                    {% endif %}
                    <{{ section.settings.heading_tag }} class="esb-heading">
                      {{ section.settings.heading_before }}
                      {{ section.settings.heading_after }}
                    </{{ section.settings.heading_tag }}>
                  {% when 'below' %}
                    <{{ section.settings.heading_tag }} class="esb-heading">
                      {{ section.settings.heading_before }}
                      {{ section.settings.heading_after }}
                    </{{ section.settings.heading_tag }}>
                    {% if section.settings.highlighted_text != blank %}
                      <span class="esb-highlighted-text esb-highlighted-separate">{{ section.settings.highlighted_text }}</span>
                    {% endif %}
                  {% when 'inline_first' %}
                    <{{ section.settings.heading_tag }} class="esb-heading">
                      {% if section.settings.highlighted_text != blank %}
                        <span class="esb-highlighted-text">{{ section.settings.highlighted_text }}</span>
                      {% endif %}
                      {% if section.settings.heading_before != blank %}{{ " " }}{{ section.settings.heading_before }}{% endif %}
                      {% if section.settings.heading_after != blank %}{{ " " }}{{ section.settings.heading_after }}{% endif %}
                    </{{ section.settings.heading_tag }}>
                  {% when 'inline_second' %}
                    <{{ section.settings.heading_tag }} class="esb-heading">
                      {% if section.settings.heading_before != blank %}{{ section.settings.heading_before }}{{ " " }}{% endif %}
                      {% if section.settings.highlighted_text != blank %}
                        <span class="esb-highlighted-text">{{ section.settings.highlighted_text }}</span>
                      {% endif %}
                      {% if section.settings.heading_after != blank %}{{ " " }}{{ section.settings.heading_after }}{% endif %}
                    </{{ section.settings.heading_tag }}>
                {% endcase %}
              </div>
            </div>
          {%- when 'paragraph' -%}
            <div class="newsletter__subheading rte animate-item animate-item--child {{ block.settings.text_style }}" {{ block.shopify_attributes }}style="--index:{{ forloop.index }};">
              {{ block.settings.text }}
            </div>
          {%- when 'email_form' -%}
            <div class='animate-item animate-item--child' {{ block.shopify_attributes }} style="--index:{{ forloop.index }};">
              {% form 'customer', class: 'newsletter-form' %}
                <input type="hidden" name="contact[tags]" value="newsletter">
                <div class="newsletter-form__field-wrapper">
                  <div class="field">
                    <input
                      id="NewsletterForm--{{ section.id }}"
                      type="email"
                      name="contact[email]"
                      class="field__input"
                      value="{{ form.email }}"
                      aria-required="true"
                      autocorrect="off"
                      autocapitalize="off"
                      autocomplete="email"
                      {% if form.errors %}
                        autofocus
                        aria-invalid="true"
                        aria-describedby="Newsletter-error--{{ section.id }}"
                      {% elsif form.posted_successfully? %}
                        aria-describedby="Newsletter-success--{{ section.id }}"
                      {% endif %}
                      placeholder="{{ 'newsletter.label' | t }}"
                      required
                    >
                    <label class="field__label" for="NewsletterForm--{{ section.id }}">
                      {{ 'newsletter.label' | t }}
                    </label>
                    <button
                      type="submit"
                      class="newsletter-form__button field__button"
                      name="commit"
                      id="Subscribe"
                      aria-label="{{ 'newsletter.button_label' | t }}"
                    >
                      {% render 'icon-arrow' %}
                    </button>
                  </div>
                  {%- if form.errors -%}
                    <small class="newsletter-form__message form__message" id="Newsletter-error--{{ section.id }}">
                      {%- render 'icon-error' -%}
                      {{- form.errors.translated_fields.email | capitalize }}
                      {{ form.errors.messages.email -}}
                    </small>
                  {%- endif -%}
                </div>
                {%- if form.posted_successfully? -%}
                  <h3
                    class="newsletter-form__message newsletter-form__message--success form__message"
                    id="Newsletter-success--{{ section.id }}"
                    tabindex="-1"
                    autofocus
                  >
                    {% render 'icon-success' -%}
                    {{- 'newsletter.success' | t }}
                  </h3>
                {%- endif -%}
              {% endform %}
            </div>
        {%- endcase -%}
      {%- endfor -%}
    </div>
  </div>
</div>

{% schema %}
{"name":"t:sections.email-signup-banner.name","tag":"section","class":"section","settings": [
 {"type":"checkbox","id":"display_id","label":"Display section ID","info":"ID is used in the Sections group section to merge 2 sections. ID can also be put inside any button link and the button will scroll to this section.","default": false
 },
 {"type":"select","id":"visibility","options": [
 {"value":"desktop-hidden","label":"Mobile only"},
 {"value":"mobile-hidden","label":"Desktop only"},
 {"value":"always-display","label":"All devices"}
 ],"label":"Display on","default":"always-display"},
 {"type":"header","content":"Use Theme Colors"},
 {"type":"checkbox","id":"use_theme_colors","label":"Use Theme Colors","default": true
 },
 {"type":"checkbox","id":"use_section_gradient","label":"Use Theme Section Gradient","default": false
 },
 {"type":"header","content":"Heading"},
 {"type":"text","id":"heading_before","label":"Heading (Before Highlight)","default":"Opening"},
 {"type":"text","id":"highlighted_text","label":"Highlight","default":"soon"},
 {"type":"text","id":"heading_after","label":"Heading (After Highlight)"},
 {"type":"select","id":"highlight_position","label":"Highlight Position","options": [
 {"value":"inline_second","label":"Inline (Middle)"},
 {"value":"inline_first","label":"Inline (First)"},
 {"value":"above","label":"Above Heading"},
 {"value":"below","label":"Below Heading"}
 ],"default":"inline_second"},
 {"type":"select","id":"heading_tag","label":"Heading Tag","options": [
 {"value":"h1","label":"H1"},
 {"value":"h2","label":"H2"},
 {"value":"h3","label":"H3"},
 {"value":"h4","label":"H4"},
 {"value":"p","label":"Paragraph"}
 ],"default":"h2"},
 {"type":"select","id":"heading_text_align","label":"Heading Alignment","options": [
 {"value":"left","label":"Left"},
 {"value":"center","label":"Center"},
 {"value":"right","label":"Right"}
 ],"default":"center"},
 {"type":"color","id":"heading_color","label":"Heading Color","default":"#000000"},
 {"type":"range","id":"heading_font_size_desktop","min": 24,"max": 96,"step": 2,"unit":"px","label":"Heading Font Size (Desktop)","default": 48
 },
 {"type":"range","id":"heading_font_size_mobile","min": 22,"max": 60,"step": 2,"unit":"px","label":"Heading Font Size (Mobile)","default": 32
 },
 {"type":"select","id":"heading_font_weight","label":"Heading Weight","options": [
 {"value":"300","label":"Light"},
 {"value":"400","label":"Regular"},
 {"value":"500","label":"Medium"},
 {"value":"600","label":"Semi Bold"},
 {"value":"700","label":"Bold"}
 ],"default":"500"},
 {"type":"range","id":"heading_margin_bottom","min": 0,"max": 60,"step": 2,"unit":"px","label":"Heading Margin Bottom","default": 0
 },
 {"type":"range","id":"header_spacing","min": 0,"max": 100,"step": 4,"unit":"px","label":"Spacing Below Header","default": 28
 },
 {"type":"header","content":"Highlight"},
 {"type":"checkbox","id":"highlighted_gradient_enabled","label":"Enable Highlight Gradient","default": false
 },
 {"type":"color","id":"highlighted_color","label":"Highlight Color","default":"#6D388B"},
 {"type":"color_background","id":"highlighted_gradient","label":"Highlight Gradient","default":"linear-gradient(95deg, rgba(0, 0, 0, 1), rgba(161, 161, 161, 1) 100%)"},
 {"type":"range","id":"highlighted_font_size_desktop","min": 24,"max": 96,"step": 2,"unit":"px","label":"Highlight Font Size (Desktop)","default": 48
 },
 {"type":"range","id":"highlighted_font_size_mobile","min": 20,"max": 60,"step": 2,"unit":"px","label":"Highlight Font Size (Mobile)","default": 32
 },
 {"type":"select","id":"highlighted_font_weight","label":"Highlight Weight","options": [
 {"value":"400","label":"Regular"},
 {"value":"500","label":"Medium"},
 {"value":"600","label":"Semi Bold"},
 {"value":"700","label":"Bold"}
 ],"default":"500"},
 {"type":"range","id":"highlighted_spacing","min": 0,"max": 40,"step": 2,"unit":"px","label":"Highlight Spacing (When Above/Below)","default": 14
 },
 {"type":"header","content":"General"},
 {"type":"paragraph","content":"t:sections.email-signup-banner.settings.paragraph.content"},
 {"type":"image_picker","id":"image","label":"t:sections.email-signup-banner.settings.image.label"},
 {"type":"range","id":"image_overlay_opacity","min": 0,"max": 100,"step": 10,"unit":"%","label":"t:sections.email-signup-banner.settings.image_overlay_opacity.label","default": 0
 },
 {"type":"checkbox","id":"show_background_image","label":"t:sections.email-signup-banner.settings.show_background_image.label","default": true
 },
 {"type":"select","id":"image_height","options": [
 {"value":"adapt-image","label":"t:sections.email-signup-banner.settings.image_height.options__1.label"},
 {"value":"small","label":"t:sections.email-signup-banner.settings.image_height.options__2.label"},
 {"value":"medium","label":"t:sections.email-signup-banner.settings.image_height.options__3.label"},
 {"value":"large","label":"t:sections.email-signup-banner.settings.image_height.options__4.label"}
 ],"default":"medium","label":"t:sections.email-signup-banner.settings.image_height.label","info":"t:sections.email-signup-banner.settings.image_height.info"},
 {"type":"select","id":"desktop_content_position","options": [
 {"value":"top-left","label":"t:sections.email-signup-banner.settings.desktop_content_position.options__1.label"},
 {"value":"top-center","label":"t:sections.email-signup-banner.settings.desktop_content_position.options__2.label"},
 {"value":"top-right","label":"t:sections.email-signup-banner.settings.desktop_content_position.options__3.label"},
 {"value":"middle-left","label":"t:sections.email-signup-banner.settings.desktop_content_position.options__4.label"},
 {"value":"middle-center","label":"t:sections.email-signup-banner.settings.desktop_content_position.options__5.label"},
 {"value":"middle-right","label":"t:sections.email-signup-banner.settings.desktop_content_position.options__6.label"},
 {"value":"bottom-left","label":"t:sections.email-signup-banner.settings.desktop_content_position.options__7.label"},
 {"value":"bottom-center","label":"t:sections.email-signup-banner.settings.desktop_content_position.options__8.label"},
 {"value":"bottom-right","label":"t:sections.email-signup-banner.settings.desktop_content_position.options__9.label"}
 ],"default":"middle-center","label":"t:sections.email-signup-banner.settings.desktop_content_position.label"},
 {"type":"checkbox","id":"show_text_box","default": true,"label":"t:sections.email-signup-banner.settings.show_text_box.label"},
 {"type":"select","id":"desktop_content_alignment","options": [
 {"value":"left","label":"t:sections.email-signup-banner.settings.desktop_content_alignment.options__1.label"},
 {"value":"center","label":"t:sections.email-signup-banner.settings.desktop_content_alignment.options__2.label"},
 {"value":"right","label":"t:sections.email-signup-banner.settings.desktop_content_alignment.options__3.label"}
 ],"default":"center","label":"t:sections.email-signup-banner.settings.desktop_content_alignment.label"},
 {"type":"select","id":"color_scheme","options": [
 {"value":"accent-1","label":"t:sections.all.colors.accent_1.label"},
 {"value":"accent-2","label":"t:sections.all.colors.accent_2.label"},
 {"value":"background-1","label":"t:sections.all.colors.background_1.label"},
 {"value":"background-2","label":"t:sections.all.colors.background_2.label"},
 {"value":"inverse","label":"t:sections.all.colors.inverse.label"}
 ],"default":"background-1","label":"t:sections.all.colors.label","info":"t:sections.email-signup-banner.settings.color_scheme.info"},
 {"type":"header","content":"t:sections.email-signup-banner.settings.header.content"},
 {"type":"select","id":"mobile_content_alignment","options": [
 {"value":"left","label":"t:sections.email-signup-banner.settings.mobile_content_alignment.options__1.label"},
 {"value":"center","label":"t:sections.email-signup-banner.settings.mobile_content_alignment.options__2.label"},
 {"value":"right","label":"t:sections.email-signup-banner.settings.mobile_content_alignment.options__3.label"}
 ],"default":"center","label":"t:sections.email-signup-banner.settings.mobile_content_alignment.label"},
 {"type":"checkbox","id":"show_text_below","default": true,"label":"t:sections.email-signup-banner.settings.show_text_below.label"}
 ],"blocks": [
 {"type":"heading","name":"Heading","limit": 1
 },
 {"type":"paragraph","name":"t:sections.email-signup-banner.blocks.paragraph.name","limit": 1,"settings": [
 {"type":"richtext","id":"text","default":"<p>Be the first to know when we launch.</p>","label":"t:sections.email-signup-banner.blocks.paragraph.settings.paragraph.label"},
 {"type":"select","id":"text_style","options": [
 {"value":"body","label":"t:sections.email-signup-banner.blocks.paragraph.settings.text_style.options__1.label"},
 {"value":"subtitle","label":"t:sections.email-signup-banner.blocks.paragraph.settings.text_style.options__2.label"}
 ],"default":"body","label":"t:sections.email-signup-banner.blocks.paragraph.settings.text_style.label"}
 ]
 },
 {"type":"email_form","name":"t:sections.email-signup-banner.blocks.email_form.name","limit": 1
 }
 ],"presets": [
 {"name":"t:sections.email-signup-banner.presets.name","blocks": [
 {"type":"heading"},
 {"type":"paragraph"},
 {"type":"email_form"}
 ],"category":"Forms"}
 ],"templates": ["password"]
}
{% endschema %}

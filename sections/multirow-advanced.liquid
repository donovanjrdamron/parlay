{% comment %}
  Multirow Advanced Section
  A flexible multirow section with comprehensive customization
{% endcomment %}

<section class="multirow-advanced section-{{ section.id }}" data-section-id="{{ section.id }}">
  <div class="container page-width">

    {% comment %} Custom HTML - Above Heading {% endcomment %}
    {% if section.settings.custom_html_above_heading != blank %}
      <div class="mra-custom-html-above-heading">
        {{ section.settings.custom_html_above_heading }}
      </div>
    {% endif %}

    {% comment %} Section Heading {% endcomment %}
    {% if section.settings.heading_before != blank or section.settings.highlighted_text != blank or section.settings.heading_after != blank %}
      <div class="mra-header-wrapper mra-align-{{ section.settings.heading_text_align }}">
        {% case section.settings.highlight_position %}
          {% when 'above' %}
            {% if section.settings.highlighted_text != blank %}
              <span class="mra-highlighted-text mra-highlighted-separate">{{ section.settings.highlighted_text }}</span>
            {% endif %}
            <{{ section.settings.heading_tag }} class="mra-heading {{ section.settings.heading_tag }}">
              {{ section.settings.heading_before }}
              {{ section.settings.heading_after }}
            </{{ section.settings.heading_tag }}>
          {% when 'below' %}
            <{{ section.settings.heading_tag }} class="mra-heading {{ section.settings.heading_tag }}">
              {{ section.settings.heading_before }}
              {{ section.settings.heading_after }}
            </{{ section.settings.heading_tag }}>
            {% if section.settings.highlighted_text != blank %}
              <span class="mra-highlighted-text mra-highlighted-separate">{{ section.settings.highlighted_text }}</span>
            {% endif %}
          {% when 'inline_first' %}
            <{{ section.settings.heading_tag }} class="mra-heading {{ section.settings.heading_tag }}">
              {% if section.settings.highlighted_text != blank %}
                <span class="mra-highlighted-text">{{ section.settings.highlighted_text }}</span>
              {% endif %}
              {% if section.settings.heading_before != blank %}{{ " " }}{{ section.settings.heading_before }}{% endif %}
              {% if section.settings.heading_after != blank %}{{ " " }}{{ section.settings.heading_after }}{% endif %}
            </{{ section.settings.heading_tag }}>
          {% when 'inline_second' %}
            <{{ section.settings.heading_tag }} class="mra-heading {{ section.settings.heading_tag }}">
              {% if section.settings.heading_before != blank %}{{ section.settings.heading_before }}{{ " " }}{% endif %}
              {% if section.settings.highlighted_text != blank %}
                <span class="mra-highlighted-text">{{ section.settings.highlighted_text }}</span>
              {% endif %}
              {% if section.settings.heading_after != blank %}{{ " " }}{{ section.settings.heading_after }}{% endif %}
            </{{ section.settings.heading_tag }}>
        {% endcase %}
      </div>
    {% endif %}

    {% comment %} Custom HTML - Below Heading {% endcomment %}
    {% if section.settings.custom_html_below_heading != blank %}
      <div class="mra-custom-html-below-heading">
        {{ section.settings.custom_html_below_heading }}
      </div>
    {% endif %}

    {% comment %} Subheading {% endcomment %}
    {% if section.settings.subheading != blank %}
      <div class="mra-subheading-wrapper mra-subheading-align-{{ section.settings.subheading_alignment_desktop }} mra-subheading-align-mobile-{{ section.settings.subheading_alignment_mobile }}">
        <p class="mra-subheading">{{ section.settings.subheading }}</p>
      </div>
    {% endif %}

    {% comment %} Custom HTML - Below Subtext {% endcomment %}
    {% if section.settings.custom_html_below_subtext != blank %}
      <div class="mra-custom-html-below-subtext">
        {{ section.settings.custom_html_below_subtext }}
      </div>
    {% endif %}

    {% comment %} Master Image + Rows Wrapper {% endcomment %}
    <div class="mra-content-wrapper mra-master-position-{{ section.settings.master_image_position }}">
      {% comment %} Master Image {% endcomment %}
      <div class="mra-master-image-wrapper {% if section.settings.hide_master_on_mobile %}mra-hide-mobile{% endif %} {% if section.settings.hide_master_on_desktop %}mra-hide-desktop{% endif %}">
        <div class="mra-master-image">
          {% if section.settings.master_image != blank %}
            <img
              src="{{ section.settings.master_image | image_url: width: 1200 }}"
              srcset="{{ section.settings.master_image | image_url: width: 600 }} 600w,
                      {{ section.settings.master_image | image_url: width: 900 }} 900w,
                      {{ section.settings.master_image | image_url: width: 1200 }} 1200w"
              sizes="(max-width: 768px) 100vw, 50vw"
              alt="{{ section.settings.master_image.alt | escape }}"
              width="{{ section.settings.master_image.width }}"
              height="{{ section.settings.master_image.height }}"
              loading="lazy"
              style="border-radius: {{ section.settings.master_border_radius }}px;"
            >
          {% else %}
            <div class="mra-master-placeholder" style="border-radius: {{ section.settings.master_border_radius }}px;">
              {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
            </div>
          {% endif %}
        </div>
      </div>

      {% comment %} Row Container {% endcomment %}
      <div class="mra-rows-and-button-wrapper">
        {% if section.blocks.size > 0 %}
          <div class="mra-container">
          {%- for block in section.blocks -%}
            {%- if block.type == 'row' -%}
              <div class="mra-row{% cycle ' mra-row--odd', ' mra-row--even' %}" data-block-id="{{ block.id }}" {{ block.shopify_attributes }}>

                <div class="mra-row-inner">
                  {% comment %} Row Image {% endcomment %}
                  <div class="mra-row-media">
                    {% if block.settings.image != blank %}
                      <img
                        src="{{ block.settings.image | image_url: width: 1200 }}"
                        srcset="{{ block.settings.image | image_url: width: 600 }} 600w,
                                {{ block.settings.image | image_url: width: 900 }} 900w,
                                {{ block.settings.image | image_url: width: 1200 }} 1200w"
                        sizes="(max-width: 768px) 100vw, 50vw"
                        alt="{{ block.settings.image.alt | escape }}"
                        width="{{ block.settings.image.width }}"
                        height="{{ block.settings.image.height }}"
                        loading="lazy"
                        class="mra-row-image"
                      >
                    {% else %}
                      <div class="mra-image-placeholder">
                        {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
                      </div>
                    {% endif %}
                  </div>

                  {% comment %} Row Content {% endcomment %}
                  <div class="mra-row-content">
                    {% comment %} Title with Number Badge {% endcomment %}
                    {% if block.settings.title != blank %}
                      <div class="mra-title-wrapper">
                        {% if block.settings.enable_number %}
                          {%- liquid
                            assign has_custom_svg = false
                            assign has_google_icon = false
                            assign display_color = block.settings.icon_color

                            if block.settings.custom_svg != blank
                              assign has_custom_svg = true
                              if block.settings.custom_svg_color != blank
                                assign display_color = block.settings.custom_svg_color
                              endif
                            elsif block.settings.google_icon != blank
                              assign has_google_icon = true
                            endif
                          -%}
                          <div class="mra-number-badge" style="{% if has_custom_svg or has_google_icon %}font-size: {{ block.settings.icon_size }}px; color: {{ display_color }};{% else %}color: {{ block.settings.icon_color }};{% endif %}">
                            {% if has_custom_svg %}
                              <div class="mra-custom-svg" style="width: {{ block.settings.icon_size }}px; height: {{ block.settings.icon_size }}px; display: inline-flex; align-items: center; justify-content: center; color: {{ display_color }};">
                                {{ block.settings.custom_svg }}
                              </div>
                            {% elsif has_google_icon %}
                              <span class="material-icons" style="font-size: {{ block.settings.icon_size }}px; color: {{ display_color }};">{{ block.settings.google_icon }}</span>
                            {% else %}
                              {{ block.settings.number_value }}
                            {% endif %}
                          </div>
                        {% endif %}
                        <h3 class="mra-row-title">{{ block.settings.title }}</h3>
                      </div>
                    {% endif %}

                    {% if block.settings.text != blank %}
                      <div class="mra-row-text rte">{{ block.settings.text }}</div>
                    {% endif %}

                    {% comment %} Custom HTML {% endcomment %}
                    {% if block.settings.custom_html != blank %}
                      <div class="mra-custom-html">
                        {{ block.settings.custom_html }}
                      </div>
                    {% endif %}
                  </div>
                </div>

              </div>
            {%- endif -%}
          {%- endfor -%}
          </div>
        {% endif %}

        {% comment %} Render button blocks below rows {% endcomment %}
        {%- for block in section.blocks -%}
          {%- if block.type == 'button' -%}
            {%- if block.settings.button_text != blank -%}
              <div class="mra-button-wrapper" data-block-id="{{ block.id }}" {{ block.shopify_attributes }}>
              <a
                href="{% if block.settings.scroll_to_section != blank %}#{% elsif block.settings.button_link != blank %}{{ block.settings.button_link }}{% else %}#{% endif %}"
                class="mra-button {% if block.settings.use_custom_styles %}mra-button--custom-styles{% endif %}{% if block.settings.scroll_to_section != blank %} scroll-to-section{% endif %}"
                {% if block.settings.scroll_to_section != blank %}data-scroll-target="{{ block.settings.scroll_to_section }}"{% endif %}
              >
                {%- if block.settings.icon_position == 'left' -%}
                  {%- if block.settings.button_custom_icon != blank -%}
                    <span class="mra-button-icon mra-button-icon--left mra-button-icon--custom">
                      {{ block.settings.button_custom_icon }}
                    </span>
                  {%- elsif block.settings.button_icon != blank -%}
                    <span class="material-symbols-outlined mra-button-icon mra-button-icon--left{% if block.settings.button_icon_filled %} material-symbols-filled{% endif %}">
                      {{ block.settings.button_icon }}
                    </span>
                  {%- endif -%}
                {%- endif -%}

                <span class="mra-button-text">{{- block.settings.button_text -}}</span>

                {%- if block.settings.icon_position == 'right' -%}
                  {%- if block.settings.button_custom_icon != blank -%}
                    <span class="mra-button-icon mra-button-icon--right mra-button-icon--custom">
                      {{ block.settings.button_custom_icon }}
                    </span>
                  {%- elsif block.settings.button_icon != blank -%}
                    <span class="material-symbols-outlined mra-button-icon mra-button-icon--right{% if block.settings.button_icon_filled %} material-symbols-filled{% endif %}">
                      {{ block.settings.button_icon }}
                    </span>
                  {%- endif -%}
                {%- endif -%}
              </a>
              </div>
            {%- endif -%}
          {%- endif -%}
        {%- endfor -%}
      </div>
    </div>

    {% comment %} Custom HTML - Below Rows {% endcomment %}
    {% if section.settings.custom_html_below_rows != blank %}
      <div class="mra-custom-html-below-rows">
        {{ section.settings.custom_html_below_rows }}
      </div>
    {% endif %}

  </div>
</section>

<style>
/* ===========================
   Section Background & Spacing
   =========================== */
.section-{{ section.id }} {
  {% if section.settings.use_theme_colors %}
    background: {{ settings.background_color }};
  {% else %}
    {% if section.settings.gradient_enabled %}
      background: {{ section.settings.gradient_background }};
    {% else %}
      background: {{ section.settings.background_color }};
    {% endif %}
  {% endif %}
  padding-top: {{ section.settings.padding_top_mobile }}px;
  padding-bottom: {{ section.settings.padding_bottom_mobile }}px;
}

@media screen and (min-width: 769px) {
  .section-{{ section.id }} {
    padding-top: {{ section.settings.padding_top_desktop }}px;
    padding-bottom: {{ section.settings.padding_bottom_desktop }}px;
  }
}

/* ===========================
   Container & Page Width
   =========================== */
.section-{{ section.id }} .page-width {
  max-width: var(--page-width);
  margin: 0 auto;
  padding: 0 1.5rem;
}

@media screen and (min-width: 750px) {
  .section-{{ section.id }} .page-width {
    padding: 0 5rem;
  }
}

/* ===========================
   Header Wrapper
   =========================== */
.section-{{ section.id }} .mra-header-wrapper {
  margin-bottom: {{ section.settings.heading_spacing_mobile }}px;
}

.section-{{ section.id }} .mra-header-wrapper.mra-align-left {
  text-align: left;
}

.section-{{ section.id }} .mra-header-wrapper.mra-align-center {
  text-align: center;
}

.section-{{ section.id }} .mra-header-wrapper.mra-align-right {
  text-align: right;
}

@media screen and (min-width: 769px) {
  .section-{{ section.id }} .mra-header-wrapper {
    margin-bottom: {{ section.settings.heading_spacing_desktop }}px;
  }
}

/* ===========================
   Heading
   =========================== */
.section-{{ section.id }} .mra-heading {
  font-family: {{ settings.type_header_font.family }}, {{ settings.type_header_font.fallback_families }};
  letter-spacing: {{ settings.heading_letter_spacing | divided_by: 1000.0 }}em;
  {% if section.settings.use_theme_colors %}
    color: {{ settings.heading_color }};
  {% else %}
    color: {{ section.settings.heading_color }};
  {% endif %}
  {% if settings.enable_global_typography %}
    font-size: {{ settings.heading_font_size_desktop }}px;
    font-weight: {{ settings.heading_font_weight }};
  {% else %}
    font-size: {{ section.settings.heading_font_size_mobile }}px;
    font-weight: {{ section.settings.heading_font_weight }};
  {% endif %}
  line-height: {{ section.settings.heading_line_height }};
  margin: 0;
}

@media screen and (min-width: 769px) {
  .section-{{ section.id }} .mra-heading {
    {% unless settings.enable_global_typography %}
      font-size: {{ section.settings.heading_font_size_desktop }}px;
    {% endunless %}
  }
}

/* ===========================
   Highlighted Text
   =========================== */
.section-{{ section.id }} .mra-highlighted-text {
  display: inline-block;
  font-family: {{ settings.highlighted_text_font.family }}, {{ settings.highlighted_text_font.fallback_families }};
  text-transform: {{ settings.highlighted_text_transform }};
  {% if section.settings.use_theme_colors %}
    {% if settings.highlighted_text_gradient_enabled %}
      background: {{ settings.highlighted_text_gradient }};
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    {% else %}
      color: {{ settings.highlighted_text_solid_color }};
    {% endif %}
  {% else %}
    {% if section.settings.highlighted_gradient_enabled %}
      background: {{ section.settings.highlighted_gradient }};
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    {% else %}
      color: {{ section.settings.highlighted_color }};
    {% endif %}
  {% endif %}
  {% if settings.enable_global_typography %}
    font-size: {{ settings.highlighted_text_font_size_desktop }}px;
    font-weight: {{ settings.highlighted_text_font_weight }};
      letter-spacing: {{ settings.highlighted_text_letter_spacing | divided_by: 1000.0 }}em;
      font-style: {{ settings.highlighted_text_font_style }};
  {% else %}
    font-size: {{ section.settings.highlight_font_size_desktop }}px;
    font-weight: {{ section.settings.highlight_font_weight }};
  {% endif %}
}

.section-{{ section.id }} .mra-highlighted-separate {
  display: block;
  margin-top: {{ section.settings.highlight_margin_top }}px;
  margin-bottom: {{ section.settings.highlight_margin_bottom }}px;
}

/* ===========================
   Mobile Responsive Typography
   =========================== */
@media screen and (max-width: 768px) {
  .section-{{ section.id }} .mra-heading {
    {% if settings.enable_global_typography %}
      font-size: {{ settings.heading_font_size_mobile }}px;
    {% else %}
      font-size: {{ section.settings.heading_font_size_mobile }}px;
    {% endif %}
  }

  .section-{{ section.id }} .mra-highlighted-text {
    {% if settings.enable_global_typography %}
      font-size: {{ settings.highlighted_text_font_size_mobile }}px;
    {% else %}
      font-size: {{ section.settings.highlight_font_size_mobile }}px;
    {% endif %}
  }
}

/* ===========================
   Subheading
   =========================== */
.section-{{ section.id }} .mra-subheading-wrapper {
  margin-bottom: {{ section.settings.subheading_spacing_mobile }}px;
}

.section-{{ section.id }} .mra-subheading-wrapper.mra-subheading-align-mobile-left {
  text-align: left;
}

.section-{{ section.id }} .mra-subheading-wrapper.mra-subheading-align-mobile-center {
  text-align: center;
}

.section-{{ section.id }} .mra-subheading-wrapper.mra-subheading-align-mobile-right {
  text-align: right;
}

@media screen and (min-width: 769px) {
  .section-{{ section.id }} .mra-subheading-wrapper {
    margin-bottom: {{ section.settings.subheading_spacing_desktop }}px;
  }

  .section-{{ section.id }} .mra-subheading-wrapper.mra-subheading-align-left {
    text-align: left;
  }

  .section-{{ section.id }} .mra-subheading-wrapper.mra-subheading-align-center {
    text-align: center;
  }

  .section-{{ section.id }} .mra-subheading-wrapper.mra-subheading-align-right {
    text-align: right;
  }
}

.section-{{ section.id }} .mra-subheading {
  {% if section.settings.use_theme_colors %}
    color: {{ settings.text_color }};
  {% else %}
    color: {{ section.settings.subheading_color }};
  {% endif %}
  font-size: {{ section.settings.subheading_font_size_mobile }}px;
  font-weight: {{ section.settings.subheading_font_weight }};
  line-height: 1.6;
  margin: 0;
}

@media screen and (min-width: 769px) {
  .section-{{ section.id }} .mra-subheading {
    font-size: {{ section.settings.subheading_font_size_desktop }}px;
  }
}

/* ===========================
   Custom HTML Blocks
   =========================== */
.section-{{ section.id }} .mra-custom-html-above-heading {
  margin-bottom: {{ section.settings.custom_html_above_heading_spacing }}px;
  text-align: {{ section.settings.heading_text_align }};
}

.section-{{ section.id }} .mra-custom-html-below-heading {
  margin-bottom: {{ section.settings.custom_html_below_heading_spacing }}px;
  text-align: {{ section.settings.heading_text_align }};
}

.section-{{ section.id }} .mra-custom-html-below-subtext {
  margin-bottom: {{ section.settings.custom_html_below_subtext_spacing }}px;
  text-align: {{ section.settings.heading_text_align }};
}

.section-{{ section.id }} .mra-custom-html-below-rows {
  margin-top: {{ section.settings.custom_html_below_rows_spacing }}px;
  text-align: {{ section.settings.heading_text_align }};
}

/* ===========================
   Content Wrapper (Master Image + Rows)
   =========================== */
.section-{{ section.id }} .mra-content-wrapper {
  display: flex;
  flex-direction: column;
  gap: {{ section.settings.master_gap_mobile }}px;
}

@media screen and (min-width: 769px) {
  .section-{{ section.id }} .mra-content-wrapper {
    gap: {{ section.settings.master_gap_desktop }}px;
  }

  .section-{{ section.id }} .mra-content-wrapper.mra-master-position-left {
    flex-direction: row;
    align-items: {{ section.settings.master_content_alignment }};
  }

  .section-{{ section.id }} .mra-content-wrapper.mra-master-position-right {
    flex-direction: row-reverse;
    align-items: {{ section.settings.master_content_alignment }};
  }
}

/* ===========================
   Master Image
   =========================== */
.section-{{ section.id }} .mra-hide-mobile {
  display: none;
}

.section-{{ section.id }} .mra-hide-desktop {
  display: block;
}

@media screen and (min-width: 769px) {
  .section-{{ section.id }} .mra-hide-mobile {
    display: block;
  }

  .section-{{ section.id }} .mra-hide-desktop {
    display: none;
  }
}

.section-{{ section.id }} .mra-master-image-wrapper {
  width: 100%;
}

@media screen and (min-width: 769px) {
  .section-{{ section.id }} .mra-master-image-wrapper {
    width: {{ section.settings.master_image_width }}%;
    flex-shrink: 0;
  }
}

.section-{{ section.id }} .mra-master-image {
  width: 100%;
}

.section-{{ section.id }} .mra-master-image img,
.section-{{ section.id }} .mra-master-placeholder {
  width: 100%;
  height: auto;
  display: block;
}

.section-{{ section.id }} .mra-master-placeholder {
  background: #f3f4f6;
  aspect-ratio: 16 / 9;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* ===========================
   Row Container
   =========================== */
.section-{{ section.id }} .mra-container {
  display: flex;
  flex-direction: column;
  gap: {{ section.settings.gap_mobile }}px;
}

@media screen and (min-width: 769px) {
  .section-{{ section.id }} .mra-container {
    display: grid;
    grid-template-columns: repeat({{ section.settings.desktop_columns }}, 1fr);
    gap: {{ section.settings.gap_desktop }}px;
    flex: 1;
    justify-content: center;
    justify-items: center;
  }
}

/* ===========================
   Row Base
   =========================== */
.section-{{ section.id }} .mra-row-inner {
  display: inline-flex;
  flex-direction: row;
  align-items: {{ section.settings.content_alignment_mobile }};
  gap: {{ section.settings.image_spacing_mobile }}px;
  {% if section.settings.row_background_enabled %}
    background: {{ section.settings.row_background_color }};
    padding: {{ section.settings.row_padding_mobile }}px;
    border-radius: {{ section.settings.row_border_radius }}px;
    border: {{ section.settings.row_border_width }}px solid {{ section.settings.row_border_color }};
  {% endif %}
}

@media screen and (min-width: 769px) {
  .section-{{ section.id }} .mra-row-inner {
    flex-direction: row;
    align-items: {{ section.settings.content_alignment_desktop }};
    gap: {{ section.settings.image_spacing_desktop }}px;
    {% if section.settings.row_background_enabled %}
      padding: {{ section.settings.row_padding_desktop }}px;
    {% endif %}
  }
}

/* ===========================
   Row Media
   =========================== */
.section-{{ section.id }} .mra-row-media {
  flex: 0 0 {{ section.settings.image_width_mobile }}%;
  overflow: hidden;
  border-radius: {{ section.settings.image_border_radius }}px;
}

@media screen and (min-width: 769px) {
  .section-{{ section.id }} .mra-row-media {
    flex: 0 0 {{ section.settings.image_width_desktop }}%;
    width: {{ section.settings.image_width_desktop }}%;
  }
}

.section-{{ section.id }} .mra-row-image {
  width: 100%;
  height: auto;
  {% if section.settings.image_aspect_ratio != 'auto' %}
    aspect-ratio: {{ section.settings.image_aspect_ratio }};
    object-fit: cover;
  {% endif %}
  display: block;
}

.section-{{ section.id }} .mra-image-placeholder {
  width: 100%;
  {% if section.settings.image_aspect_ratio != 'auto' %}
    aspect-ratio: {{ section.settings.image_aspect_ratio }};
  {% else %}
    min-height: 300px;
  {% endif %}
  background: #f5f5f5;
  display: flex;
  align-items: center;
  justify-content: center;
}

.section-{{ section.id }} .mra-image-placeholder svg {
  width: 50%;
  height: 50%;
  opacity: 0.3;
}

/* ===========================
   Row Content
   =========================== */
.section-{{ section.id }} .mra-row-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  text-align: {{ section.settings.row_content_alignment }};
  {% if section.settings.row_content_alignment == 'center' %}
    align-items: center;
  {% elsif section.settings.row_content_alignment == 'right' %}
    align-items: flex-end;
  {% else %}
    align-items: flex-start;
  {% endif %}
  {% if section.settings.content_background_enabled %}
    background: {{ section.settings.content_background_color }};
    padding: {{ section.settings.content_padding_mobile }}px;
    border-radius: {{ section.settings.content_border_radius }}px;
    border: {{ section.settings.content_border_width }}px solid {{ section.settings.content_border_color }};
  {% endif %}
}

@media screen and (min-width: 769px) {
  .section-{{ section.id }} .mra-row-content {
    {% if section.settings.content_background_enabled %}
      padding: {{ section.settings.content_padding_desktop }}px;
    {% endif %}
  }
}

/* ===========================
   Title Wrapper (for inline number + title)
   =========================== */
.section-{{ section.id }} .mra-title-wrapper {
  display: flex;
  align-items: center;
  gap: {{ section.settings.number_spacing }}px;
  margin-bottom: {{ section.settings.title_spacing_mobile }}px;
}

@media screen and (min-width: 769px) {
  .section-{{ section.id }} .mra-title-wrapper {
    margin-bottom: {{ section.settings.title_spacing_desktop }}px;
  }
}

/* ===========================
   Number Badge
   =========================== */
.section-{{ section.id }} .mra-number-badge {
  width: {{ section.settings.number_size }}px;
  height: {{ section.settings.number_size }}px;
  background: {{ section.settings.number_background }};
  color: {{ section.settings.number_text_color }};
  border-radius: {{ section.settings.number_border_radius }}%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: {{ section.settings.number_font_size_mobile }}px;
  font-weight: {{ section.settings.number_font_weight }};
  border: {{ section.settings.number_border_width }}px solid {{ section.settings.number_border_color }};
  flex-shrink: 0;
}

@media screen and (min-width: 769px) {
  .section-{{ section.id }} .mra-number-badge {
    font-size: {{ section.settings.number_font_size_desktop }}px;
  }
}

/* Custom SVG & Google Icons */
.section-{{ section.id }} .mra-custom-svg svg {
  width: 100%;
  height: 100%;
}

{% for block in section.blocks %}
  {% if block.type == 'row' %}
    .section-{{ section.id }} .mra-row[data-block-id="{{ block.id }}"] .mra-custom-svg svg {
      {% if block.settings.icon_fill_enabled %}
        fill: {{ block.settings.icon_fill_color }};
      {% else %}
        fill: none;
      {% endif %}
      {% if block.settings.icon_outline_enabled %}
        stroke: {{ block.settings.icon_outline_color }};
        stroke-width: {{ block.settings.icon_outline_width }}px;
      {% else %}
        stroke: none;
      {% endif %}
    }
  {% endif %}
{% endfor %}

.section-{{ section.id }} .mra-number-badge .material-icons {
  font-family: 'Material Icons';
  font-weight: normal;
  font-style: normal;
  line-height: 1;
  letter-spacing: normal;
  text-transform: none;
  display: inline-block;
  white-space: nowrap;
  word-wrap: normal;
  direction: ltr;
  -webkit-font-feature-settings: 'liga';
  -webkit-font-smoothing: antialiased;
}

/* ===========================
   Row Title
   =========================== */
.section-{{ section.id }} .mra-row-title {
  color: {{ section.settings.row_title_color }};
  font-size: {{ section.settings.row_title_size_mobile }}px;
  font-weight: {{ section.settings.row_title_weight }};
  line-height: 1.3;
  margin: 0;
}

@media screen and (min-width: 769px) {
  .section-{{ section.id }} .mra-row-title {
    font-size: {{ section.settings.row_title_size_desktop }}px;
  }
}

/* ===========================
   Row Text
   =========================== */
.section-{{ section.id }} .mra-row-text {
  color: {{ section.settings.row_text_color }};
  font-size: {{ section.settings.row_text_size_mobile }}px;
  font-weight: {{ section.settings.row_text_weight }};
  line-height: {{ section.settings.row_text_line_height_mobile }};
  margin: 0 0 {{ section.settings.text_spacing_mobile }}px 0;
}

@media screen and (min-width: 769px) {
  .section-{{ section.id }} .mra-row-text {
    font-size: {{ section.settings.row_text_size_desktop }}px;
    line-height: {{ section.settings.row_text_line_height_desktop }};
    margin-bottom: {{ section.settings.text_spacing_desktop }}px;
  }
}

.section-{{ section.id }} .mra-row-text p:last-child {
  margin-bottom: 0;
}

/* ===========================
   Custom HTML
   =========================== */
.section-{{ section.id }} .mra-custom-html {
  margin-top: {{ section.settings.custom_html_spacing }}px;
}

/* ===========================
   Per-Row Styling
   =========================== */
{% for block in section.blocks %}
  {% if block.settings.enable_custom_background %}
    .section-{{ section.id }} .mra-row[data-block-id="{{ block.id }}"] .mra-row-inner {
      background: {{ block.settings.custom_background_color }};
      padding: {{ section.settings.row_padding_mobile }}px;
      border-radius: {{ section.settings.row_border_radius }}px;
    }

    @media screen and (min-width: 769px) {
      .section-{{ section.id }} .mra-row[data-block-id="{{ block.id }}"] .mra-row-inner {
        padding: {{ section.settings.row_padding_desktop }}px;
      }
    }
  {% endif %}

  {% if block.settings.enable_custom_title_color %}
    .section-{{ section.id }} .mra-row[data-block-id="{{ block.id }}"] .mra-row-title {
      color: {{ block.settings.custom_title_color }};
    }
  {% endif %}

  {% if block.settings.enable_custom_text_color %}
    .section-{{ section.id }} .mra-row[data-block-id="{{ block.id }}"] .mra-row-text {
      color: {{ block.settings.custom_text_color }};
    }
  {% endif %}
{% endfor %}

/* ===========================
   Rows and Button Wrapper
   =========================== */
.section-{{ section.id }} .mra-rows-and-button-wrapper {
  display: flex;
  flex-direction: column;
  width: 100%;
}

@media screen and (min-width: 769px) {
  .section-{{ section.id }} .mra-content-wrapper.mra-master-position-left .mra-rows-and-button-wrapper,
  .section-{{ section.id }} .mra-content-wrapper.mra-master-position-right .mra-rows-and-button-wrapper {
    display: flex;
    flex-direction: column;
    flex: 1;
  }

  /* Ensure button appears below the row container on desktop */
  .section-{{ section.id }} .mra-container {
    width: 100%;
  }

  .section-{{ section.id }} .mra-button-wrapper {
    width: 100%;
    margin-top: {{ section.settings.gap_desktop }}px;
  }
}

/* ===========================
   Button Block Styles
   =========================== */
{% for block in section.blocks %}
  {% if block.type == 'button' %}
    #shopify-section-{{ section.id }} .mra-button-wrapper[data-block-id="{{ block.id }}"] {
      margin-top: {{ block.settings.margin_top | default: 20 }}px;
      margin-bottom: {{ block.settings.margin_bottom | default: 24 }}px;
      text-align: {{ block.settings.alignment_desktop | default: 'left' }};
      clear: both;
      {% if block.settings.hide_on_desktop %}
        display: none;
      {% endif %}
    }

    @media screen and (max-width: 768px) {
      #shopify-section-{{ section.id }} .mra-button-wrapper[data-block-id="{{ block.id }}"] {
        text-align: {{ block.settings.alignment_mobile | default: 'center' }};
        {% if block.settings.hide_on_desktop %}
          display: block;
        {% endif %}
      }
    }

    #shopify-section-{{ section.id }} .mra-button-wrapper[data-block-id="{{ block.id }}"] .mra-button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      cursor: pointer;
      transition: all 0.3s ease;
      {% if block.settings.full_width %}
        width: 100%;
      {% elsif block.settings.use_custom_width %}
        width: {{ block.settings.custom_width_desktop | default: 300 }}px;
      {% endif %}
    }

    @media screen and (max-width: 768px) {
      #shopify-section-{{ section.id }} .mra-button-wrapper[data-block-id="{{ block.id }}"] .mra-button {
        {% if block.settings.full_width_mobile_only %}
          width: 100%;
        {% elsif block.settings.use_custom_width %}
          width: {{ block.settings.custom_width_mobile | default: 280 }}px;
        {% endif %}
      }
    }

    #shopify-section-{{ section.id }} .mra-button-wrapper[data-block-id="{{ block.id }}"] .mra-button--custom-styles {
      {% if block.settings.use_gradient %}
        background: {{ block.settings.button_gradient }};
      {% else %}
        background-color: {{ block.settings.button_bg_color | default: '#000000' }};
      {% endif %}
      color: {{ block.settings.button_text_color | default: '#FFFFFF' }};
      border: {{ block.settings.border_width | default: 0 }}px solid {{ block.settings.border_color | default: '#000000' }};
      border-radius: {{ block.settings.border_radius | default: 4 }}px;
      padding: {{ block.settings.padding_vertical | default: 16 }}px {{ block.settings.padding_horizontal | default: 24 }}px;
      font-size: {{ block.settings.font_size_desktop | default: 16 }}px;
      font-weight: {{ block.settings.font_weight | default: '600' }};
      text-transform: {{ block.settings.text_transform | default: 'uppercase' }};
      letter-spacing: {{ block.settings.letter_spacing | default: 1 }}px;
    }

    @media screen and (max-width: 768px) {
      #shopify-section-{{ section.id }} .mra-button-wrapper[data-block-id="{{ block.id }}"] .mra-button--custom-styles {
        font-size: {{ block.settings.font_size_mobile | default: 14 }}px;
      }
    }

    #shopify-section-{{ section.id }} .mra-button-wrapper[data-block-id="{{ block.id }}"] .mra-button--custom-styles:hover {
      background-color: {{ block.settings.button_bg_color_hover | default: '#333333' }};
      color: {{ block.settings.button_text_color_hover | default: '#FFFFFF' }};
      transform: translateY(-2px);
    }

    #shopify-section-{{ section.id }} .mra-button-wrapper[data-block-id="{{ block.id }}"] .mra-button-icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: {{ block.settings.button_icon_size | default: 20 }}px;
      color: {{ block.settings.button_icon_color | default: '#FFFFFF' }};
    }

    #shopify-section-{{ section.id }} .mra-button-wrapper[data-block-id="{{ block.id }}"] .mra-button-icon--left {
      margin-right: {{ block.settings.button_icon_gap | default: 8 }}px;
    }

    #shopify-section-{{ section.id }} .mra-button-wrapper[data-block-id="{{ block.id }}"] .mra-button-icon--right {
      margin-left: {{ block.settings.button_icon_gap | default: 8 }}px;
    }

    #shopify-section-{{ section.id }} .mra-button-wrapper[data-block-id="{{ block.id }}"] .mra-button-icon--custom {
      width: {{ block.settings.button_icon_size | default: 20 }}px;
      height: {{ block.settings.button_icon_size | default: 20 }}px;
    }

    #shopify-section-{{ section.id }} .mra-button-wrapper[data-block-id="{{ block.id }}"] .mra-button-icon--custom svg {
      width: 100%;
      height: 100%;
      fill: currentColor;
    }

    #shopify-section-{{ section.id }} .mra-button-wrapper[data-block-id="{{ block.id }}"] .mra-button-text {
      display: inline-block;
    }
  {% endif %}
{% endfor %}

</style>

{% schema %}
{"name":"Multirow Advanced","tag":"section","class":"section-multirow-advanced","settings": [
 {"type":"checkbox","id":"use_theme_colors","label":"Use Theme Background Color","default": true
 },
 {"type":"header","content":"Section Heading"},
 {"type":"text","id":"heading_before","label":"Heading Text (Before Highlight)","default":"add your"},
 {"type":"text","id":"highlighted_text","label":"Highlighted Text","default":"title here"},
 {"type":"text","id":"heading_after","label":"Heading Text (After Highlight)"},
 {"type":"select","id":"highlight_position","label":"Highlight Position","options": [
 {"value":"above","label":"Above Heading"},
 {"value":"below","label":"Below Heading"},
 {"value":"inline_first","label":"Inline - First"},
 {"value":"inline_second","label":"Inline - Second"}
 ],"default":"inline_second"},
 {"type":"select","id":"heading_tag","label":"Heading Tag","options": [
 {"value":"h1","label":"H1"},
 {"value":"h2","label":"H2"},
 {"value":"h3","label":"H3"},
 {"value":"h4","label":"H4"}
 ],"default":"h2"},
 {"type":"select","id":"heading_text_align","label":"Heading Alignment","options": [
 {"value":"left","label":"Left"},
 {"value":"center","label":"Center"},
 {"value":"right","label":"Right"}
 ],"default":"center"},
 {"type":"header","content":"Heading Styling"},
 {"type":"color","id":"heading_color","label":"Heading Color","default":"#1f2937"},
 {"type":"range","id":"heading_font_size_desktop","min": 12,"max": 80,"step": 2,"unit":"px","label":"Desktop Font Size","default": 48
 },
 {"type":"range","id":"heading_font_size_mobile","min": 12,"max": 50,"step": 2,"unit":"px","label":"Mobile Font Size","default": 32
 },
 {"type":"select","id":"heading_font_weight","label":"Font Weight","options": [
 {"value":"300","label":"Light (300)"},
 {"value":"400","label":"Regular (400)"},
 {"value":"500","label":"Medium (500)"},
 {"value":"600","label":"Semi-Bold (600)"},
 {"value":"700","label":"Bold (700)"},
 {"value":"800","label":"Extra Bold (800)"}
 ],"default":"500"},
 {"type":"range","id":"heading_line_height","min": 1,"max": 2,"step": 0.1,"label":"Line Height","default": 1.2
 },
 {"type":"range","id":"heading_spacing_desktop","min": 0,"max": 80,"step": 5,"unit":"px","label":"Desktop Spacing Below","default": 35
 },
 {"type":"range","id":"heading_spacing_mobile","min": 0,"max": 60,"step": 5,"unit":"px","label":"Mobile Spacing Below","default": 10
 },
 {"type":"header","content":"Highlighted Text"},
 {"type":"checkbox","id":"highlighted_gradient_enabled","label":"Enable Gradient for Highlight","default": false
 },
 {"type":"color","id":"highlighted_color","label":"Highlight Color (Solid)","default":"#6366f1"},
 {"type":"color_background","id":"highlighted_gradient","label":"Highlight Gradient","info":"Only applies if gradient is enabled"},
 {"type":"range","id":"highlight_font_size_desktop","min": 12,"max": 80,"step": 2,"unit":"px","label":"Desktop Font Size","default": 48
 },
 {"type":"range","id":"highlight_font_size_mobile","min": 12,"max": 50,"step": 2,"unit":"px","label":"Mobile Font Size","default": 32
 },
 {"type":"select","id":"highlight_font_weight","label":"Font Weight","options": [
 {"value":"300","label":"Light (300)"},
 {"value":"400","label":"Regular (400)"},
 {"value":"500","label":"Medium (500)"},
 {"value":"600","label":"Semi-Bold (600)"},
 {"value":"700","label":"Bold (700)"},
 {"value":"800","label":"Extra Bold (800)"}
 ],"default":"500"},
 {"type":"range","id":"highlight_margin_top","min": 0,"max": 40,"step": 2,"unit":"px","label":"Top Margin","default": 0,"info":"Only applies when positioned above/below"},
 {"type":"range","id":"highlight_margin_bottom","min": 0,"max": 40,"step": 2,"unit":"px","label":"Bottom Margin","default": 14,"info":"Only applies when positioned above/below"},
 {"type":"header","content":"Subheading"},
 {"type":"textarea","id":"subheading","label":"Subheading Text","default":"Add a descriptive tagline or description here"},
 {"type":"color","id":"subheading_color","label":"Subheading Color","default":"#6b7280"},
 {"type":"range","id":"subheading_font_size_desktop","min": 10,"max": 28,"step": 1,"unit":"px","label":"Desktop Font Size","default": 18
 },
 {"type":"range","id":"subheading_font_size_mobile","min": 10,"max": 22,"step": 1,"unit":"px","label":"Mobile Font Size","default": 14
 },
 {"type":"select","id":"subheading_font_weight","label":"Font Weight","options": [
 {"value":"300","label":"Light (300)"},
 {"value":"400","label":"Regular (400)"},
 {"value":"500","label":"Medium (500)"},
 {"value":"600","label":"Semi-Bold (600)"}
 ],"default":"400"},
 {"type":"range","id":"subheading_max_width","min": 400,"max": 1000,"step": 50,"unit":"px","label":"Max Width","default": 700
 },
 {"type":"range","id":"subheading_spacing_desktop","min": 0,"max": 80,"step": 5,"unit":"px","label":"Desktop Spacing Below","default": 50
 },
 {"type":"range","id":"subheading_spacing_mobile","min": 0,"max": 60,"step": 5,"unit":"px","label":"Mobile Spacing Below","default": 20
 },
 {"type":"select","id":"subheading_alignment_desktop","label":"Desktop Alignment","options": [
 {"value":"left","label":"Left"},
 {"value":"center","label":"Center"},
 {"value":"right","label":"Right"}
 ],"default":"left"},
 {"type":"select","id":"subheading_alignment_mobile","label":"Mobile Alignment","options": [
 {"value":"left","label":"Left"},
 {"value":"center","label":"Center"},
 {"value":"right","label":"Right"}
 ],"default":"left"},
 {"type":"header","content":"Custom HTML Blocks"},
 {"type":"html","id":"custom_html_above_heading","label":"Custom HTML - Above Heading","info":"Add custom HTML above the heading"},
 {"type":"range","id":"custom_html_above_heading_spacing","min": 0,"max": 80,"step": 5,"unit":"px","label":"Spacing Below (Above Heading Block)","default": 20
 },
 {"type":"html","id":"custom_html_below_heading","label":"Custom HTML - Below Heading","info":"Add custom HTML below the heading"},
 {"type":"range","id":"custom_html_below_heading_spacing","min": 0,"max": 80,"step": 5,"unit":"px","label":"Spacing Below (Below Heading Block)","default": 20
 },
 {"type":"html","id":"custom_html_below_subtext","label":"Custom HTML - Below Subtext","info":"Add custom HTML below the subheading/subtext"},
 {"type":"range","id":"custom_html_below_subtext_spacing","min": 0,"max": 80,"step": 5,"unit":"px","label":"Spacing Below (Below Subtext Block)","default": 20
 },
 {"type":"html","id":"custom_html_below_rows","label":"Custom HTML - Below Rows","info":"Add custom HTML below all the rows"},
 {"type":"range","id":"custom_html_below_rows_spacing","min": 0,"max": 80,"step": 5,"unit":"px","label":"Spacing Above (Below Rows Block)","default": 20
 },
 {"type":"header","content":"Row Layout"},
 {"type":"select","id":"desktop_columns","label":"Desktop Columns","options": [
 {"value":"1","label":"1 Column"},
 {"value":"2","label":"2 Columns"},
 {"value":"3","label":"3 Columns"}
 ],"default":"1"},
 {"type":"checkbox","id":"alternate_layout","label":"Alternate Image Position","default": true,"info":"Alternates image left/right on desktop"},
 {"type":"range","id":"gap_desktop","min": 0,"max": 80,"step": 5,"unit":"px","label":"Gap Between Rows (Desktop)","default": 15
 },
 {"type":"range","id":"gap_mobile","min": 0,"max": 50,"step": 5,"unit":"px","label":"Gap Between Rows (Mobile)","default": 15
 },
 {"type":"header","content":"️ Master Image"},
 {"type":"image_picker","id":"master_image","label":"Master Image"},
 {"type":"range","id":"master_image_width","min": 20,"max": 100,"step": 5,"unit":"%","label":"Image Width (Desktop)","default": 40
 },
 {"type":"select","id":"master_image_position","label":"Image Position (Desktop)","options": [
 {"value":"left","label":"Left"},
 {"value":"right","label":"Right"}
 ],"default":"right"},
 {"type":"select","id":"master_content_alignment","label":"Content Alignment (Rows Position)","options": [
 {"value":"flex-start","label":"Top"},
 {"value":"center","label":"Center"},
 {"value":"flex-end","label":"Bottom"}
 ],"default":"center","info":"Vertical alignment of rows next to image"},
 {"type":"range","id":"master_border_radius","min": 0,"max": 50,"step": 2,"unit":"px","label":"Border Radius","default": 12
 },
 {"type":"range","id":"master_gap_desktop","min": 0,"max": 80,"step": 5,"unit":"px","label":"Gap Between Image and Rows (Desktop)","default": 0
 },
 {"type":"range","id":"master_gap_mobile","min": 0,"max": 50,"step": 5,"unit":"px","label":"Gap Between Image and Rows (Mobile)","default": 30
 },
 {"type":"checkbox","id":"hide_master_on_mobile","label":"Hide on Mobile","default": true
 },
 {"type":"checkbox","id":"hide_master_on_desktop","label":"Hide on Desktop","default": false
 },
 {"type":"select","id":"row_content_alignment","label":"Row Content Alignment","options": [
 {"value":"left","label":"Left"},
 {"value":"center","label":"Center"},
 {"value":"right","label":"Right"}
 ],"default":"left"},
 {"type":"header","content":"️ Row Images"},
 {"type":"range","id":"image_width_desktop","min": 20,"max": 40,"step": 5,"unit":"%","label":"Image Width (Desktop)","default": 20,"info":"Percentage of row width"},
 {"type":"range","id":"image_width_mobile","min": 20,"max": 40,"step": 5,"unit":"%","label":"Image Width (Mobile)","default": 25,"info":"Percentage of row width"},
 {"type":"select","id":"content_alignment_mobile","label":"Content Alignment (Mobile)","options": [
 {"value":"flex-start","label":"Top"},
 {"value":"center","label":"Center"},
 {"value":"flex-end","label":"Bottom"}
 ],"default":"center"},
 {"type":"select","id":"content_alignment_desktop","label":"Content Alignment (Desktop)","options": [
 {"value":"flex-start","label":"Top"},
 {"value":"center","label":"Center"},
 {"value":"flex-end","label":"Bottom"}
 ],"default":"center"},
 {"type":"select","id":"image_aspect_ratio","label":"Image Aspect Ratio","options": [
 {"value":"auto","label":"Original"},
 {"value":"1 / 1","label":"Square (1:1)"},
 {"value":"4 / 3","label":"Landscape (4:3)"},
 {"value":"16 / 9","label":"Widescreen (16:9)"},
 {"value":"3 / 4","label":"Portrait (3:4)"}
 ],"default":"1 / 1"},
 {"type":"range","id":"image_border_radius","min": 0,"max": 50,"step": 2,"unit":"px","label":"Image Border Radius","default": 0
 },
 {"type":"range","id":"image_spacing_desktop","min": 0,"max": 80,"step": 5,"unit":"px","label":"Image Spacing (Desktop)","default": 10
 },
 {"type":"range","id":"image_spacing_mobile","min": 0,"max": 40,"step": 2,"unit":"px","label":"Image Spacing (Mobile)","default": 10
 },
 {"type":"header","content":"Row Styling (Entire Wrapped Row)"},
 {"type":"checkbox","id":"row_background_enabled","label":"Enable Row Background","default": true
 },
 {"type":"color","id":"row_background_color","label":"Row Background Color","default":"#ffffff"},
 {"type":"range","id":"row_padding_desktop","min": 0,"max": 80,"step": 5,"unit":"px","label":"Row Padding (Desktop)","default": 0
 },
 {"type":"range","id":"row_padding_mobile","min": 0,"max": 50,"step": 5,"unit":"px","label":"Row Padding (Mobile)","default": 0
 },
 {"type":"range","id":"row_border_radius","min": 0,"max": 50,"step": 2,"unit":"px","label":"Row Border Radius","default": 0
 },
 {"type":"range","id":"row_border_width","min": 0,"max": 10,"step": 1,"unit":"px","label":"Row Border Width","default": 2
 },
 {"type":"color","id":"row_border_color","label":"Row Border Color","default":"#000000"},
 {"type":"header","content":"Content Area Styling (Content Only)"},
 {"type":"checkbox","id":"content_background_enabled","label":"Enable Content Background","default": false
 },
 {"type":"color","id":"content_background_color","label":"Content Background Color","default":"#ffffff"},
 {"type":"range","id":"content_padding_desktop","min": 0,"max": 80,"step": 5,"unit":"px","label":"Content Padding (Desktop)","default": 20
 },
 {"type":"range","id":"content_padding_mobile","min": 0,"max": 50,"step": 5,"unit":"px","label":"Content Padding (Mobile)","default": 15
 },
 {"type":"range","id":"content_border_radius","min": 0,"max": 50,"step": 2,"unit":"px","label":"Content Border Radius","default": 8
 },
 {"type":"range","id":"content_border_width","min": 0,"max": 10,"step": 1,"unit":"px","label":"Content Border Width","default": 0
 },
 {"type":"color","id":"content_border_color","label":"Content Border Color","default":"#e5e7eb"},
 {"type":"header","content":"Number Badge Styling"},
 {"type":"range","id":"number_size","min": 20,"max": 60,"step": 1,"unit":"px","label":"Badge Size","default": 25
 },
 {"type":"range","id":"number_font_size_desktop","min": 16,"max": 48,"step": 2,"unit":"px","label":"Number Font Size (Desktop)","default": 24
 },
 {"type":"range","id":"number_font_size_mobile","min": 12,"max": 36,"step": 2,"unit":"px","label":"Number Font Size (Mobile)","default": 18
 },
 {"type":"select","id":"number_font_weight","label":"Number Font Weight","options": [
 {"value":"400","label":"Regular (400)"},
 {"value":"500","label":"Medium (500)"},
 {"value":"600","label":"Semi-Bold (600)"},
 {"value":"700","label":"Bold (700)"},
 {"value":"800","label":"Extra Bold (800)"}
 ],"default":"600"},
 {"type":"color","id":"number_background","label":"Badge Background","default":"#ffffff"},
 {"type":"color","id":"number_text_color","label":"Number Text Color","default":"#000000"},
 {"type":"range","id":"number_border_width","min": 0,"max": 5,"step": 1,"unit":"px","label":"Border Width","default": 2
 },
 {"type":"color","id":"number_border_color","label":"Border Color","default":"#000000"},
 {"type":"range","id":"number_border_radius","min": 0,"max": 50,"step": 1,"unit":"%","label":"Border Radius","default": 0
 },
 {"type":"range","id":"number_spacing","min": 0,"max": 30,"step": 2,"unit":"px","label":"Spacing Between Number and Title","default": 10
 },
 {"type":"header","content":"Custom HTML Spacing"},
 {"type":"range","id":"custom_html_spacing","min": 0,"max": 50,"step": 5,"unit":"px","label":"Spacing Above Custom HTML","default": 20
 },
 {"type":"header","content":"Row Title"},
 {"type":"color","id":"row_title_color","label":"Title Color","default":"#1f2937"},
 {"type":"range","id":"row_title_size_desktop","min": 12,"max": 48,"step": 2,"unit":"px","label":"Desktop Font Size","default": 22
 },
 {"type":"range","id":"row_title_size_mobile","min": 12,"max": 36,"step": 2,"unit":"px","label":"Mobile Font Size","default": 18
 },
 {"type":"select","id":"row_title_weight","label":"Font Weight","options": [
 {"value":"400","label":"Regular (400)"},
 {"value":"500","label":"Medium (500)"},
 {"value":"600","label":"Semi-Bold (600)"},
 {"value":"700","label":"Bold (700)"}
 ],"default":"700"},
 {"type":"range","id":"title_spacing_desktop","min": 0,"max": 50,"step": 5,"unit":"px","label":"Desktop Spacing Below","default": 10
 },
 {"type":"range","id":"title_spacing_mobile","min": 0,"max": 40,"step": 2,"unit":"px","label":"Mobile Spacing Below","default": 8
 },
 {"type":"header","content":"Row Text"},
 {"type":"color","id":"row_text_color","label":"Text Color","default":"#6b7280"},
 {"type":"range","id":"row_text_size_desktop","min": 10,"max": 24,"step": 1,"unit":"px","label":"Desktop Font Size","default": 15
 },
 {"type":"range","id":"row_text_size_mobile","min": 10,"max": 20,"step": 1,"unit":"px","label":"Mobile Font Size","default": 14
 },
 {"type":"select","id":"row_text_weight","label":"Font Weight","options": [
 {"value":"300","label":"Light (300)"},
 {"value":"400","label":"Regular (400)"},
 {"value":"500","label":"Medium (500)"}
 ],"default":"400"},
 {"type":"range","id":"row_text_line_height_desktop","min": 1.0,"max": 2.0,"step": 0.1,"label":"Desktop Line Height","default": 1.4
 },
 {"type":"range","id":"row_text_line_height_mobile","min": 1.0,"max": 2.0,"step": 0.1,"label":"Mobile Line Height","default": 1.3
 },
 {"type":"range","id":"text_spacing_desktop","min": 0,"max": 50,"step": 5,"unit":"px","label":"Desktop Spacing Below","default": 5
 },
 {"type":"range","id":"text_spacing_mobile","min": 0,"max": 40,"step": 2,"unit":"px","label":"Mobile Spacing Below","default": 0
 },
 {"type":"header","content":"Section Background"},
 {"type":"color","id":"background_color","label":"Background Color","default":"#ffffff","info":"Only applies if 'Use Theme Background Color' is off"},
 {"type":"checkbox","id":"gradient_enabled","label":"Enable Gradient Background","default": false,"info":"Only applies if 'Use Theme Background Color' is off"},
 {"type":"color_background","id":"gradient_background","label":"Gradient Background","info":"Only applies if gradient is enabled"},
 {"type":"header","content":"Section Spacing"},
 {"type":"range","id":"padding_top_desktop","min": 0,"max": 150,"step": 5,"unit":"px","label":"Top Padding (Desktop)","default": 60
 },
 {"type":"range","id":"padding_bottom_desktop","min": 0,"max": 150,"step": 5,"unit":"px","label":"Bottom Padding (Desktop)","default": 60
 },
 {"type":"range","id":"padding_top_mobile","min": 0,"max": 100,"step": 5,"unit":"px","label":"Top Padding (Mobile)","default": 40
 },
 {"type":"range","id":"padding_bottom_mobile","min": 0,"max": 100,"step": 5,"unit":"px","label":"Bottom Padding (Mobile)","default": 40
 }
 ],"blocks": [
 {"type":"row","name":"Row","settings": [
 {"type":"image_picker","id":"image","label":"Image"},
 {"type":"text","id":"title","label":"Row Title","default":"Row Title"},
 {"type":"richtext","id":"text","label":"Row Text","default":"<p>Add descriptive text for your row here.</p>"},
 {"type":"header","content":"Number Badge / Icon"},
 {"type":"paragraph","content":"Priority: Custom SVG > Google Icon > Number. If Custom SVG is filled, it takes priority. If Google Icon is filled, it takes priority over Number."},
 {"type":"checkbox","id":"enable_number","label":"Enable Number Badge / Icon","default": true
 },
 {"type":"number","id":"number_value","label":"Number to Display","default": 1,"info":"Enter the number you want to show in the circle (e.g., 1, 2, 3). Lowest priority."},
 {"type":"text","id":"google_icon","label":"Google Material Icon Name","info":"Enter Material Icon name (e.g., 'check_circle', 'star'). See https://fonts.google.com/icons. Takes priority over Number."},
 {"type":"html","id":"custom_svg","label":"Custom SVG Code","info":"Paste your custom SVG code here. Takes priority over Google Icon and Number."},
 {"type":"color","id":"custom_svg_color","label":"Custom SVG Icon Color","default":"#FFFFFF","info":"Color for custom SVG. Takes priority over general icon color."},
 {"type":"range","id":"icon_size","min":16,"max":64,"step":2,"unit":"px","label":"Icon Size","default":24,"info":"Size for Google Icon or Custom SVG"},
 {"type":"color","id":"icon_color","label":"Icon / Number Color","default":"#FFFFFF","info":"Color for Google Icon or Number text"},
 {"type":"checkbox","id":"icon_fill_enabled","label":"Enable Icon Fill","default":true,"info":"Apply fill color to icon"},
 {"type":"color","id":"icon_fill_color","label":"Icon Fill Color","default":"#FFFFFF","info":"Fill color for icon (when enabled)"},
 {"type":"checkbox","id":"icon_outline_enabled","label":"Enable Icon Outline","default":false,"info":"Apply stroke/outline to icon"},
 {"type":"color","id":"icon_outline_color","label":"Icon Outline Color","default":"#000000","info":"Outline color for icon"},
 {"type":"range","id":"icon_outline_width","min":0,"max":5,"step":0.5,"unit":"px","label":"Icon Outline Width","default":1,"info":"Stroke width for icon outline"},
 {"type":"header","content":"Custom HTML"},
 {"type":"html","id":"custom_html","label":"Custom HTML","info":"Add any custom HTML code here (badges, icons, etc.)"},
 {"type":"header","content":"Custom Styling (Optional)"},
 {"type":"checkbox","id":"enable_custom_background","label":"Enable Custom Background","default": false
 },
 {"type":"color","id":"custom_background_color","label":"Custom Background Color","default":"#f3f4f6"},
 {"type":"checkbox","id":"enable_custom_title_color","label":"Enable Custom Title Color","default": false
 },
 {"type":"color","id":"custom_title_color","label":"Custom Title Color","default":"#1f2937"},
 {"type":"checkbox","id":"enable_custom_text_color","label":"Enable Custom Text Color","default": false
 },
 {"type":"color","id":"custom_text_color","label":"Custom Text Color","default":"#6b7280"}
 ]
 },
 {"type":"button","name":"Button","settings": [
 {"type":"paragraph","content":"**Call-to-Action Button**"},
 {"type":"text","id":"button_text","label":"Button Text","default":"SHOP NOW"},
 {"type":"url","id":"button_link","label":"Button Link"},
 {"type":"text","id":"scroll_to_section","label":"Scroll to Section Class","info":"Enter class name WITHOUT the dot (e.g., 'product-info' NOT '.product-info'). Leave button link empty when using this."},
 {"type":"checkbox","id":"hide_on_desktop","label":"Hide on Desktop","default": false,"info":"Hide this button on desktop devices"},
 {"type":"header","content":"Icon Settings"},
 {"type":"text","id":"button_icon","label":"Google Icon Name","info":"Enter icon name like: shopping_cart, local_shipping, favorite. Use underscores between words. [View all icons](https://fonts.google.com/icons?icon.set=Material+Symbols&icon.platform=web)","default":"arrow_right_alt"},
 {"type":"checkbox","id":"button_icon_filled","label":"Filled icon","default": false},
 {"type":"html","id":"button_custom_icon","label":"Custom SVG Icon Code","info":"If provided, this custom SVG will be used instead of the Google Material Icon. Paste your SVG code here."},
 {"type":"select","id":"icon_position","label":"Icon Position","options": [
 {"value":"left","label":"Left of text"},
 {"value":"right","label":"Right of text"}
 ],"default":"right"},
 {"type":"range","id":"button_icon_size","min": 12,"max": 48,"step": 2,"unit":"px","label":"Icon Size","default": 20},
 {"type":"range","id":"button_icon_gap","min": 0,"max": 30,"step": 2,"unit":"px","label":"Gap Between Icon & Text","default": 8},
 {"type":"color","id":"button_icon_color","label":"Icon Color","default":"#FFFFFF","info":"Leave as white if using custom styles, or match your theme button color"},
 {"type":"header","content":"Alignment"},
 {"type":"select","id":"alignment_desktop","label":"Alignment (Desktop)","options": [
 {"value":"left","label":"Left"},
 {"value":"center","label":"Center"},
 {"value":"right","label":"Right"}
 ],"default":"center"},
 {"type":"select","id":"alignment_mobile","label":"Alignment (Mobile)","options": [
 {"value":"left","label":"Left"},
 {"value":"center","label":"Center"},
 {"value":"right","label":"Right"}
 ],"default":"center"},
 {"type":"header","content":"Style Settings"},
 {"type":"checkbox","id":"use_custom_styles","label":"Use Custom Styles","default": true,"info":"Enable to override theme button styles with custom settings below"},
 {"type":"header","content":"Colors"},
 {"type":"color","id":"button_text_color","label":"Text Color","default":"#FFFFFF"},
 {"type":"color","id":"button_bg_color","label":"Background Color","default":"#000000"},
 {"type":"checkbox","id":"use_gradient","label":"Use Gradient Background","default": false},
 {"type":"color_background","id":"button_gradient","label":"Gradient Background"},
 {"type":"color","id":"button_text_color_hover","label":"Text Color (Hover)","default":"#FFFFFF"},
 {"type":"color","id":"button_bg_color_hover","label":"Background Color (Hover)","default":"#333333"},
 {"type":"header","content":"Border"},
 {"type":"range","id":"border_width","min": 0,"max": 10,"step": 1,"unit":"px","label":"Border Width","default": 0},
 {"type":"color","id":"border_color","label":"Border Color","default":"#000000"},
 {"type":"range","id":"border_radius","min": 0,"max": 50,"step": 1,"unit":"px","label":"Border Radius","default": 4},
 {"type":"header","content":"Typography"},
 {"type":"range","id":"font_size_desktop","min": 12,"max": 32,"step": 1,"unit":"px","label":"Font Size (Desktop)","default": 16},
 {"type":"range","id":"font_size_mobile","min": 12,"max": 28,"step": 1,"unit":"px","label":"Font Size (Mobile)","default": 14},
 {"type":"select","id":"font_weight","label":"Font Weight","options": [
 {"value":"300","label":"Light"},
 {"value":"400","label":"Normal"},
 {"value":"500","label":"Medium"},
 {"value":"600","label":"Semi Bold"},
 {"value":"700","label":"Bold"},
 {"value":"800","label":"Extra Bold"}
 ],"default":"600"},
 {"type":"select","id":"text_transform","label":"Text Transform","options": [
 {"value":"none","label":"None"},
 {"value":"uppercase","label":"Uppercase"},
 {"value":"lowercase","label":"Lowercase"},
 {"value":"capitalize","label":"Capitalize"}
 ],"default":"uppercase"},
 {"type":"range","id":"letter_spacing","min": -2,"max": 10,"step": 0.5,"unit":"px","label":"Letter Spacing","default": 1},
 {"type":"header","content":"Padding"},
 {"type":"range","id":"padding_vertical","min": 0,"max": 40,"step": 2,"unit":"px","label":"Vertical Padding","default": 16},
 {"type":"range","id":"padding_horizontal","min": 0,"max": 80,"step": 2,"unit":"px","label":"Horizontal Padding","default": 24},
 {"type":"header","content":"Layout"},
 {"type":"checkbox","id":"full_width","label":"Full Width Button","default": false},
 {"type":"checkbox","id":"full_width_mobile_only","label":"Full Width on Mobile Only","default": true},
 {"type":"checkbox","id":"use_custom_width","label":"Use Custom Width","default": false,"info":"Enable to set custom button width instead of auto"},
 {"type":"range","id":"custom_width_desktop","min": 100,"max": 800,"step": 10,"unit":"px","label":"Custom Width (Desktop)","default": 300},
 {"type":"range","id":"custom_width_mobile","min": 100,"max": 500,"step": 10,"unit":"px","label":"Custom Width (Mobile)","default": 280},
 {"type":"range","id":"margin_top","min": -20,"max": 40,"step": 2,"unit":"px","label":"Top Margin","default": 16},
 {"type":"range","id":"margin_bottom","min": -20,"max": 40,"step": 2,"unit":"px","label":"Bottom Margin","default": 24}
 ]
 }
 ],"presets": [
 {"name":"Multirow Advanced","settings": {"use_theme_colors": true,"heading_before":"add your","highlighted_text":"title here","heading_after":"","highlight_position":"inline_second","heading_tag":"h2","heading_text_align":"center","heading_color":"#1f2937","heading_font_size_desktop": 48,"heading_font_size_mobile": 32,"heading_font_weight":"500","heading_line_height": 1.2,"heading_spacing_desktop": 35,"heading_spacing_mobile": 10,"highlighted_gradient_enabled": false,"highlighted_color":"#6366f1","highlighted_gradient":"","highlight_font_size_desktop": 48,"highlight_font_size_mobile": 32,"highlight_font_weight":"500","highlight_margin_top": 0,"highlight_margin_bottom": 14,"subheading":"Add a descriptive tagline or description here","subheading_color":"#6b7280","subheading_font_size_desktop": 18,"subheading_font_size_mobile": 14,"subheading_font_weight":"400","subheading_max_width": 700,"subheading_spacing_desktop": 50,"subheading_spacing_mobile": 20,"custom_html_above_heading":"","custom_html_above_heading_spacing": 20,"custom_html_below_heading":"","custom_html_below_heading_spacing": 20,"custom_html_below_subtext":"","custom_html_below_subtext_spacing": 20,"custom_html_below_rows":"","custom_html_below_rows_spacing": 20,"desktop_columns":"1","alternate_layout": true,"gap_desktop": 15,"gap_mobile": 15,"master_image_width": 40,"master_image_position":"right","master_content_alignment":"center","master_border_radius": 12,"master_gap_desktop": 0,"master_gap_mobile": 30,"hide_master_on_mobile": true,"hide_master_on_desktop": false,"row_content_alignment":"left","image_width_desktop": 20,"image_width_mobile": 25,"content_alignment_mobile":"center","content_alignment_desktop":"center","image_aspect_ratio":"1 / 1","image_border_radius": 0,"image_spacing_desktop": 10,"image_spacing_mobile": 10,"row_background_enabled": true,"row_background_color":"#ffffff","row_padding_desktop": 0,"row_padding_mobile": 0,"row_border_radius": 0,"row_border_width": 2,"row_border_color":"#000000","content_background_enabled": false,"content_background_color":"#ffffff","content_padding_desktop": 20,"content_padding_mobile": 15,"content_border_radius": 8,"content_border_width": 0,"content_border_color":"#e5e7eb","number_size": 25,"number_font_size_desktop": 24,"number_font_size_mobile": 18,"number_font_weight":"600","number_background":"#ffffff","number_text_color":"#000000","number_border_width": 2,"number_border_color":"#000000","number_border_radius": 0,"number_spacing": 10,"custom_html_spacing": 20,"row_title_color":"#1f2937","row_title_size_desktop": 22,"row_title_size_mobile": 18,"row_title_weight":"700","title_spacing_desktop": 10,"title_spacing_mobile": 8,"row_text_color":"#6b7280","row_text_size_desktop": 15,"row_text_size_mobile": 14,"row_text_weight":"400","row_text_line_height_desktop": 1.4,"row_text_line_height_mobile": 1.3,"text_spacing_desktop": 5,"text_spacing_mobile": 0,"background_color":"#ffffff","gradient_enabled": false,"gradient_background":"","padding_top_desktop": 60,"padding_bottom_desktop": 60,"padding_top_mobile": 40,"padding_bottom_mobile": 40
 },"blocks": [
 {"type":"row","settings": {"title":"Row Title","text":"<p>Add descriptive text for your row here.</p>","enable_number": true,"number_value": 1,"google_icon":"","custom_svg":"","custom_svg_color":"#000000","icon_size": 24,"icon_color":"#000000","icon_fill_enabled": true,"icon_fill_color":"#ffffff","icon_outline_enabled": false,"icon_outline_color":"#000000","icon_outline_width": 1,"custom_html":"","enable_custom_background": false,"custom_background_color":"#f3f4f6","enable_custom_title_color": false,"custom_title_color":"#1f2937","enable_custom_text_color": false,"custom_text_color":"#6b7280"}
 },
 {"type":"row","settings": {"title":"Row Title","text":"<p>Add descriptive text for your row here.</p>","enable_number": true,"number_value": 2,"google_icon":"","custom_svg":"","custom_svg_color":"#000000","icon_size": 24,"icon_color":"#000000","icon_fill_enabled": true,"icon_fill_color":"#ffffff","icon_outline_enabled": false,"icon_outline_color":"#000000","icon_outline_width": 1,"custom_html":"","enable_custom_background": false,"custom_background_color":"#f3f4f6","enable_custom_title_color": false,"custom_title_color":"#1f2937","enable_custom_text_color": false,"custom_text_color":"#6b7280"}
 },
 {"type":"row","settings": {"title":"Row Title","text":"<p>Add descriptive text for your row here.</p>","enable_number": true,"number_value": 3,"google_icon":"","custom_svg":"","custom_svg_color":"#000000","icon_size": 24,"icon_color":"#000000","icon_fill_enabled": true,"icon_fill_color":"#ffffff","icon_outline_enabled": false,"icon_outline_color":"#000000","icon_outline_width": 1,"custom_html":"","enable_custom_background": false,"custom_background_color":"#f3f4f6","enable_custom_title_color": false,"custom_title_color":"#1f2937","enable_custom_text_color": false,"custom_text_color":"#6b7280"}
 },
 {"type":"button","settings": {"button_text":"SHOP NOW","button_link":"","scroll_to_section":"","hide_on_desktop": false,"button_icon":"arrow_right_alt","button_icon_filled": false,"button_custom_icon":"","icon_position":"right","button_icon_size": 20,"button_icon_gap": 8,"button_icon_color":"#FFFFFF","alignment_desktop":"center","alignment_mobile":"center","use_custom_styles": true,"button_text_color":"#FFFFFF","button_bg_color":"#000000","use_gradient": false,"button_gradient":"","button_text_color_hover":"#FFFFFF","button_bg_color_hover":"#333333","border_width": 0,"border_color":"#000000","border_radius": 4,"font_size_desktop": 16,"font_size_mobile": 14,"font_weight":"600","text_transform":"uppercase","letter_spacing": 1,"padding_vertical": 16,"padding_horizontal": 24,"full_width": false,"full_width_mobile_only": true,"use_custom_width": false,"custom_width_desktop": 300,"custom_width_mobile": 280,"margin_top": 16,"margin_bottom": 24}
 }
 ],"category":"Content"}
 ]
}
{% endschema %}

<script>
(function() {
  const buttons = document.querySelectorAll('#shopify-section-{{ section.id }} .scroll-to-section');

  buttons.forEach(button => {
    button.addEventListener('click', function(e) {
      const targetClass = this.getAttribute('data-scroll-target');

      if (targetClass) {
        e.preventDefault();

        const targetElement = document.querySelector('.' + targetClass);

        if (targetElement) {
          targetElement.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      }
    });
  });
})();
</script>

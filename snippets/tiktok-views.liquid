{% comment %}
  TikTok Views Badge Snippet
  Displays a badge showing TikTok views with icon

  Parameters:
  - text: The text to display (default: "Over 10m Views on Tiktok")
  - show_icon: Whether to show the TikTok icon
  - icon_color: Color of the TikTok icon
  - text_color: Color of the text
  - bg_color: Background color
  - border_color: Border color
  - border_width: Border width in px
  - border_radius: Border radius in px
  - padding_vertical: Vertical padding
  - padding_horizontal: Horizontal padding
  - font_size: Text font size
  - font_weight: Text font weight
  - icon_size: Icon size
  - gap: Gap between icon and text
{% endcomment %}

{%- liquid
  assign views_text = text | default: 'Over 10m Views on Tiktok'
  assign show_icon_setting = show_icon | default: true
  assign icon_fill = icon_color | default: '#474747'
  assign text_fill = text_color | default: '#474747'
  assign background = bg_color | default: 'transparent'
  assign border_col = border_color | default: '#dddcdc'
  assign border_w = border_width | default: 2
  assign radius = border_radius | default: 20
  assign pad_v = padding_vertical | default: 0
  assign pad_h = padding_horizontal | default: 15
  assign font_sz = font_size | default: 13
  assign font_wt = font_weight | default: 600
  assign icon_sz = icon_size | default: 15
  assign item_gap = gap | default: 10
-%}

<div class="tiktok-views-badge" data-section-id="{{ section.id }}">
  <style>
    .tiktok-views-badge[data-section-id="{{ section.id }}"] {
      border: {{ border_w }}px solid {{ border_col }};
      border-radius: {{ radius }}px;
      display: inline-flex;
      flex-direction: row;
      align-items: center;
      gap: {{ item_gap }}px;
      padding: {{ pad_v }}px {{ pad_h }}px;
      font-weight: {{ font_wt }};
      font-size: {{ font_sz }}px;
      color: {{ text_fill }};
      background-color: {{ background }};
      width: fit-content;
    }

    .tiktok-views-badge[data-section-id="{{ section.id }}"] svg {
      flex-shrink: 0;
      width: {{ icon_sz }}px;
      height: {{ icon_sz }}px;
      fill: {{ icon_fill }};
    }

    .tiktok-views-badge[data-section-id="{{ section.id }}"] .tiktok-views-text {
      line-height: 1.4;
    }
  </style>

  {%- if show_icon_setting -%}
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" xml:space="preserve">
      <path d="M19.589 6.686a4.793 4.793 0 0 1-3.77-4.245V2h-3.445v13.672a2.896 2.896 0 0 1-5.201 1.743l-.002-.001.002.001a2.895 2.895 0 0 1 3.183-4.51v-3.5a6.329 6.329 0 0 0-5.394 10.692 6.33 6.33 0 0 0 10.857-4.424V8.687a8.182 8.182 0 0 0 4.773 1.526V6.79a4.831 4.831 0 0 1-1.003-.104z"/>
    </svg>
  {%- endif -%}

  <span class="tiktok-views-text">{{ views_text }}</span>
</div>
